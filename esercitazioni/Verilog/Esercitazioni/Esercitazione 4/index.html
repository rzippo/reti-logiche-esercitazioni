<!doctype html>
<html lang="it" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2025-26 docs-doc-page docs-doc-id-esercitazioni/Verilog/Esercitazioni/Esercitazione 4" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Esercitazione 4 | Esercitazioni di Reti Logiche</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4"><meta data-rh="true" property="og:locale" content="it"><meta data-rh="true" name="docusaurus_locale" content="it"><meta data-rh="true" name="docsearch:language" content="it"><meta data-rh="true" name="docusaurus_version" content="2025-26"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2025-26"><meta data-rh="true" name="docsearch:version" content="2025-26"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2025-26"><meta data-rh="true" property="og:title" content="Esercitazione 4 | Esercitazioni di Reti Logiche"><meta data-rh="true" name="robots" content="noindex, nofollow"><link data-rh="true" rel="icon" href="/reti-logiche-esercitazioni/img/favicon.png"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4" hreflang="it"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X6QFHIGLL7-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Verilog","item":"https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/category/verilog"},{"@type":"ListItem","position":2,"name":"Esercitazioni","item":"https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/category/esercitazioni-1"},{"@type":"ListItem","position":3,"name":"Esercitazione 4","item":"https://your-docusaurus-site.example.com/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4"}]}</script><link rel="alternate" type="application/rss+xml" href="/reti-logiche-esercitazioni/blog/rss.xml" title="Esercitazioni di Reti Logiche RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/reti-logiche-esercitazioni/blog/atom.xml" title="Esercitazioni di Reti Logiche Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GHFPG7JFTZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GHFPG7JFTZ",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Esercitazioni di Reti Logiche" href="/reti-logiche-esercitazioni/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/reti-logiche-esercitazioni/assets/css/styles.e959b96b.css">
<script src="/reti-logiche-esercitazioni/assets/js/runtime~main.0a797eb3.js" defer="defer"></script>
<script src="/reti-logiche-esercitazioni/assets/js/main.8fc37d24.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Passa al contenuto principale"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Passa al contenuto principale</a></div><nav aria-label="Principale" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Attiva/disattiva la barra di navigazione" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/reti-logiche-esercitazioni/"><div class="navbar__logo"><img src="/reti-logiche-esercitazioni/img/logo.png" alt="Reti Logiche" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/reti-logiche-esercitazioni/img/logo.png" alt="Reti Logiche" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Esercitazioni di Reti Logiche</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/reti-logiche-esercitazioni/">Esercitazioni</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4">2025-26</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4">2025-26</a></li><li><a class="dropdown__link" href="/reti-logiche-esercitazioni/2024-25/esercitazioni/Verilog/Esercitazioni/Esercitazione 4">2024-25</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Passa dalla modalità scura a quella chiara (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Cerca (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Cerca</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Torna indietro all&#x27;inizio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Barra laterale dei documenti" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reti-logiche-esercitazioni/"><span title="Esercitazioni di Reti Logiche" class="linkLabel_WmDU">Esercitazioni di Reti Logiche</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reti-logiche-esercitazioni/esercitazioni/Introduzione"><span title="Introduzione" class="linkLabel_WmDU">Introduzione</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reti-logiche-esercitazioni/esercitazioni/Ambienti"><span title="Ambienti di sviluppo" class="linkLabel_WmDU">Ambienti di sviluppo</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/reti-logiche-esercitazioni/category/assembler"><span title="Assembler" class="categoryLinkLabel_W154">Assembler</span></a><button aria-label="Expand sidebar category &#x27;Assembler&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/reti-logiche-esercitazioni/category/verilog"><span title="Verilog" class="categoryLinkLabel_W154">Verilog</span></a><button aria-label="Collapse sidebar category &#x27;Verilog&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/reti-logiche-esercitazioni/category/esercitazioni-1"><span title="Esercitazioni" class="categoryLinkLabel_W154">Esercitazioni</span></a><button aria-label="Collapse sidebar category &#x27;Esercitazioni&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reti-logiche-esercitazioni/esercitazioni/Verilog/Esercitazioni/Esercitazione 4"><span title="Esercitazione 4" class="linkLabel_WmDU">Esercitazione 4</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/reti-logiche-esercitazioni/category/documentazione-1"><span title="Documentazione" class="categoryLinkLabel_W154">Documentazione</span></a><button aria-label="Expand sidebar category &#x27;Documentazione&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reti-logiche-esercitazioni/esercitazioni/Verilog/Simulatore processore sEP8"><span title="Simulatore processore sEP8" class="linkLabel_WmDU">Simulatore processore sEP8</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reti-logiche-esercitazioni/esercitazioni/VS-Code"><span title="Uso di VS Code" class="linkLabel_WmDU">Uso di VS Code</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/reti-logiche-esercitazioni/esercitazioni/Versioni PDF"><span title="Versioni PDF" class="linkLabel_WmDU">Versioni PDF</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning theme-unlisted-banner"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Pagina non in elenco</div><div class="admonitionContent_BuS1">Questa pagina non è in elenco. I motori di ricerca non lo indicheranno e solo gli utenti con collegamento diretto possono accedervi.</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Briciole di pane"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Pagina principale" class="breadcrumbs__link" href="/reti-logiche-esercitazioni/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/reti-logiche-esercitazioni/category/verilog"><span>Verilog</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/reti-logiche-esercitazioni/category/esercitazioni-1"><span>Esercitazioni</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Esercitazione 4</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Versione: 2025-26</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Su questa pagina</button></div><div class="theme-doc-markdown markdown"><header><h1>Esercitazione 4</h1></header>
<p>In questa esercitazione vedremo un esercizio d&#x27;esame svolto interamente, sia come descrizione che come sintesi.
Il testo dell&#x27;esercizio è scaricabile <a href="/reti-logiche-esercitazioni/2025-26/code/verilog/4/2021-01-08/2021-01-08.zip" target="_blank" rel="noopener noreferrer">qui</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="esercizio-41-descrizione">Esercizio 4.1: Descrizione<a href="#esercizio-41-descrizione" class="hash-link" aria-label="Link diretto a Esercizio 4.1: Descrizione" title="Link diretto a Esercizio 4.1: Descrizione" translate="no">​</a></h2>
<p>La rete sincronizzata <code>ABC</code> deve ottenere tre valori da altrettanti produttori, sostenendo tre handshake <code>soc</code>/<code>eoc</code> indipendenti.
Tipicamente, questo vuol dire che siamo liberi di eseguire i tre handshake in qualunque ordine, per esempio in serie.
In questo caso però, avendo una sola uscita <code>soc</code>, siamo costretti a far proseguire i tre handshake secondo gli stessi passi.</p>
<p>Se deriviamo il seguente algoritmo per <code>ABC</code>:</p>
<ul>
<li>A riposo: <code>soc</code> a 0, tutti gli <code>eoc</code> a 1, i dati sono validi</li>
<li>Inizia <code>ABC</code> mettendo <code>soc</code> a 1</li>
<li>Attende la risposta <code>eoc</code> a 0 <u>da tutti</u> i produttori</li>
<li>Risponde con <code>soc</code> a 0</li>
<li>Attende la conferma <code>eoc</code> a 1 <u>da tutti</u> i produttori</li>
<li>A questo punto, i dati sono validi, e lo resteranno fino al prossimo ciclo</li>
</ul>
<p>Alla fine di un tale handshake, possiamo svolgere il conto.
Le specifiche fanno riferimento a trovare il minimo tra le <em>tensioni</em> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">v_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">v_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> e <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">v_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, che sono, in generale, numeri reali, non rappresentabili in un numero finito di bit.</p>
<p>Tramite i convertitori da analogico a digitale si utilizza però una <em>legge di corrispondenza</em> che associa, con un certo errore, a ogni valore reale <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span></span></span> un il valore <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span> rappresentabile su un numero finito di bit.
In questo caso, l&#x27;esercizio specifica che queste tensioni sono rappresentate in <em>binario unipolare</em>: questo significa che i vari <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span> sono numeri naturali.
Questa associazione preserva gli ordinamenti: a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>≤</mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_1 \le x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> corrisponde <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub><mo>≤</mo><msub><mi>v</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">v_1 \le v_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>.
Possiamo quindi tradurre il problema di minimo tra tensioni <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span></span></span> in un problema di minimo tra naturali <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span>.</p>
<p>Il risultato dovrà poi essere trasferito al consumatore usando un handshake <code>dav_</code>/<code>rfd</code>.
Per far questo, deriviamo il seguente algoritmo per <code>ABC</code>:</p>
<ul>
<li>A riposo: <code>dav_</code> a 1, <code>rfd</code> a 1</li>
<li>All&#x27;ottenimento di un nuovo dato da trasferire, si imposta l&#x27;uscita <code>min</code> a tale dato <u>e solo poi</u> si mette <code>dav_</code> a 0 per segnalarlo. L&#x27;uscita <code>min</code> non può oscillare o cambiare</li>
<li>Si attende la risposta <code>rfd</code> a 0</li>
<li>Si mette <code>dav_</code> a 1, ora l&#x27;uscita <code>min</code> è di nuovo libera di oscillare o cambiare</li>
<li>Si aspetta la risposta con <code>rfd</code> a 1</li>
</ul>
<p>Possiamo quindi scrivere la seguente descrizione in Verilog, scaricabile <a href="/reti-logiche-esercitazioni/2025-26/code/verilog/4/2021-01-08/descrizione.v" target="_blank" rel="noopener noreferrer">qui</a>.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token block function" style="color:#d73a49">module</span><span class="token plain"> ABC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    soc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dav_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> soc;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain">min;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> dav_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> rfd;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> SOC;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> soc </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> SOC;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> MIN;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> min </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> MIN;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> DAV_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> dav_ </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> DAV_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> STAR;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token parameter constant" style="color:#36acaa">localparam</span><span class="token plain"> </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S0 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S1 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S2 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S3 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> out_rc;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    MINIMO_3 min_rc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .a</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .b</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .c</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">out_rc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S1 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> out_rc;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b111</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S3 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">endmodule</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">module</span><span class="token plain"> MINIMO_3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    min</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> min;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#2</span><span class="token plain"> min </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a &gt;</span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b &gt;</span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? c </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> b </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                             </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a &gt;</span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? c </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> a </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">endmodule</span></span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>La descrizione della rete combinatoria è opzionale</div><div class="admonitionContent_BuS1"><p>Gli esercizi d&#x27;esame chiedono descrizione e sintesi per la rete sincronizzata,
ma solo la sintesi per la rete combinatoria.
È quindi del tutto opzionale mostrare una descrizione di quest&#x27;ultima.</p><p>È spesso però utile scrivere prima una descrizione, soprattutto se facilmente interpretabile.
Così facendo, in caso di errori nei test, sappiamo di dover debuggare <em>solo</em> la descrizione della rete sincronizzata.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="esercizio-41-sintesi-della-rete-combinatoria">Esercizio 4.1: Sintesi della rete combinatoria<a href="#esercizio-41-sintesi-della-rete-combinatoria" class="hash-link" aria-label="Link diretto a Esercizio 4.1: Sintesi della rete combinatoria" title="Link diretto a Esercizio 4.1: Sintesi della rete combinatoria" translate="no">​</a></h2>
<p>La rete da sintetizzare calcola il minimo di tre numeri naturali.
Cominciamo osservando che il minimo di tre numeri è un problema che si può scomporre per associatività: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo stretchy="false">)</mo><mo>=</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min(a, b, c) = \min( \min(a, b), c )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">min</span><span class="mopen">(</span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">c</span><span class="mclose">)</span></span></span></span>.
Questo vuol dire che posso costruire una reti combinatoria per il minimo di tre numeri combinando solo reti per il minimo di due numeri.
Lo stesso principio si generalizza per il minimo di <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span> numeri.</p>
<p>Nell&#x27;esercizio 2.1 abbiamo visto come costruire una rete combinatoria per il massimo tra due numeri, utilizzando un comparatore.
Modificare tale rete per produrre il minimo anziché il massimo è semplice, basta cambiare il multiplexer in fondo.
Dato che questo esercizio ci fornisce un sottrattore, possiamo usarlo direttamente anziché costruirlo come nell&#x27;esercizio 2.1</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token block function" style="color:#d73a49">module</span><span class="token plain"> MINIMO_2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    min</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> min;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> b_out;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    diff #</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> .N</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .x</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .b_in</span><span class="token punctuation" style="color:#393A34">(</span><span class="token literal-binary-number number" style="color:#36acaa">1&#x27;b0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .b_out</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b_out</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> min </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> b_out ? a </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> b;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">endmodule</span></span><br></span></code></pre></div></div>
<p>Essendo questa una sintesi di <code>MINIMO_2</code>, possiamo usare questo componente per la sintesi di <code>MINIMO_3</code>.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token block function" style="color:#d73a49">module</span><span class="token plain"> MINIMO_3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    min</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> min;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// min_3(a, b, c) = min_2( min_2(a, b), c );</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> m_ab_out;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    MINIMO_2 m_ab</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .a</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .b</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_ab_out</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    MINIMO_2 m_abc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .a</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m_ab_out</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .b</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">min</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">endmodule</span></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="esercizio-41-sintesi-di-rete-sincronizzata">Esercizio 4.1: Sintesi di rete sincronizzata<a href="#esercizio-41-sintesi-di-rete-sincronizzata" class="hash-link" aria-label="Link diretto a Esercizio 4.1: Sintesi di rete sincronizzata" title="Link diretto a Esercizio 4.1: Sintesi di rete sincronizzata" translate="no">​</a></h2>
<p>La <em>descrizione</em> di una rete sincronizzata è molto utile a capire come si evolve nel tempo:
mette in evidenza lo stato interno (registro STAR), i suoi registri operativi, e come questi cambiano nel tempo in base sia al loro contenuto sia agli ingressi della rete.</p>
<p>Quest&#x27;uso del Verilog è affine a un diagramma di stato della stessa rete: è certamente più prolisso (per rendere il codice non ambiguo e simulabile) ma è comunque facile seguire l&#x27;evoluzione della rete usando una descrizione Verilog allo stesso modo in cui si fa lo stesso con un diagramma di stato.</p>
<p>Una <em>sintesi</em>, invece, si occupa di dirci come realizzare tale rete.
In teoria, per le descrizioni che scriviamo servirebbero solitamente pochi accorgimenti perché siano direttamente realizzabili in hardware.
In pratica, però, questo porterebbe a un uso particolarmente costoso e inefficiente di silicio.
Seguiamo quindi un <em>algoritmo euristico</em> che ci porta ad hardware molto più efficiente, ragionevolmente vicino a qualcosa che ha senso realizzare.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Non esiste l&#x27;ottimo</div><div class="admonitionContent_BuS1"><p>I ragionamenti fatti in questo corso sull&#x27;ottimalità delle sintesi portano solo laddove ci può portare la matematica.
Per andare oltre, bisogna entrare nei dettagli pratici, e affrontare trade-off tra processi di produzione, costi in termini di superfice, consumi energetici, esposizione a rischi di progettazione, etc.
La progettazione di circuiti integrati è un tema di ingegneria a sé.</p></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Corrispondenza tra sintesi e descrizione</div><div class="admonitionContent_BuS1"><p>Una sintesi <u>corrisponde</u> a una descrizione:
mostra più in dettaglio come realizzare in hardware una rete che si comporta, esternamente, <em>allo stesso modo</em> della descrizione.
Una sintesi che si comporti in modo diverso dalla descrizione <u>non ha alcun senso</u>.</p></div></div>
<p>Il modello di sintesi che ci aspettiamo negli esercizi d&#x27;esame è il modello con <strong>parte operativa</strong> e <strong>parte controllo</strong>, dove la parte controllo è implementata secondo il modello <strong>a microindirizzi</strong>.</p>
<p>Riassumendo, questo significa che:</p>
<ul>
<li>la rete è divisa in una <em>parte operativa</em>, che contiene solo i registri operativi e le relative reti combinatorie, e una <em>parte controllo</em>, che contiene il solo registro di stato <code>STAR</code></li>
<li>La parte operativa riceve <em>variabili di comando</em> dalla parte controllo, che determinano i comportamenti dei registri operativi</li>
<li>La parte controllo riceve <em>variabili di condizionamento</em> dalla parte operativa, che determinano i salti a due vie della parte controllo</li>
</ul>
<!-- -->
<p>Vedremo come seguire l&#x27;algoritmo passo passo per ottenere questa sintesi a partire dalla descrizione scritta prima.</p>
<p>Da una parte, ciò che si valuta all&#x27;esame è solo quanto viene prodotto, mentre il processo seguito per scrivere codice è libera scelta dello studente.
Dall&#x27;altra, visto che il tempo è necessariamente limitato, avere un processo efficiente permette di esprimere meglio le proprie competenze in tale tempo.</p>
<p>Per questo, vedremo un processo efficiente per fare la sintesi sfruttando l&#x27;editor VS Code.
Questo sfrutta le scorciatoie dell&#x27;editor e l&#x27;editing multicaret.
Inoltre, avremo vari <em>chekpoint</em>, indicati con 🚩, dove il codice intermedio è compilabile e simulabile, permettendo di controllare di avere ancora lo stesso comportamento della descrizione.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passo-0-ricopiare-su-un-nuovo-file">Passo 0: ricopiare su un nuovo file<a href="#passo-0-ricopiare-su-un-nuovo-file" class="hash-link" aria-label="Link diretto a Passo 0: ricopiare su un nuovo file" title="Link diretto a Passo 0: ricopiare su un nuovo file" translate="no">​</a></h3>
<p>Ricopiamo il nostro file di descrizione, sia <code>descrizione.v</code>, su un nuovo file per la sintesi, sia <code>sintesi.v</code>.
Nel resto delle istruzioni, assumeremo quindi la descrizione &quot;congelata&quot; e modificheremo il file <code>sintesi.v</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passo-1-rendere-la-descrizione-omogenea">Passo 1: rendere la descrizione omogenea<a href="#passo-1-rendere-la-descrizione-omogenea" class="hash-link" aria-label="Link diretto a Passo 1: rendere la descrizione omogenea" title="Link diretto a Passo 1: rendere la descrizione omogenea" translate="no">​</a></h3>
<p>Questo processo sfrutta pattern nel codice per eseguire tutte le manipolazioni della descrizione in modo efficiente.
Il primo è quindi regolarizzare la descrizione secondo tali pattern.</p>
<p>Per questo, puntiamo a un blocco <code>always @(posedge clock)</code> dove:</p>
<ul>
<li>Ogni stato contiene esplicitamente il comportamento di ciascun registro, anche se questo è <em>conservare</em>.</li>
<li>L&#x27;assegnamento di ciascun registro è su una riga <em>diversa</em>.</li>
<li>Le righe corrispondenti ai vari registri appaiono nello stesso ordine in tutti gli stati.</li>
<li>Tutti gli stati e assegmenti seguono la stessa spaziatura: o tutti <code>REG&lt;=</code> o tutti <code>REG␣&lt;=</code>; o tutti <code>SX: begin⏎</code> o tutti <code>SX:⏎begin</code>; <code>end</code> su una riga a sé.</li>
</ul>
<p>Per il terzo punto, qualunque ordine va bene, purché sia coerente.
Otteniamo quindi il seguente codice 🚩.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> DAV_;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S1 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> DAV_;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> out_rc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b111</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S3 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Corrispondenza tra sintesi e descrizione</div><div class="admonitionContent_BuS1"><p>Se il comportamento di un registro in un dato stato è assente nella descrizione, questo è implicitamente <em>conservazione</em>, e così deve apparire nella sintesi.</p><p>Quando si vuole utilizzare un comportamento esplicito per ottimizzazioni, questo va fatto <u>a partire dalla descrizione</u>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passo-2-separazione-dei-blocchi-operativi">Passo 2: separazione dei blocchi operativi<a href="#passo-2-separazione-dei-blocchi-operativi" class="hash-link" aria-label="Link diretto a Passo 2: separazione dei blocchi operativi" title="Link diretto a Passo 2: separazione dei blocchi operativi" translate="no">​</a></h3>
<p>Separiamo ora i blocchi operativi dei registri - incluso <code>STAR</code>.
Per farlo, cominciamo con ricopiare il blocco <code>always @(posedge clock)</code> tante volte quanti sono i registri.
Ciascuna di queste copie verrà poi modificata per lasciare <em>solo</em> gli assegnamenti di uno specifico registro, usando l&#x27;editing multicaret.</p>
<p>Vediamo per esempio come ottenere il blocco operativo del registro <code>SOC</code>.
Selezioniamo la prima occorrenza di <code>SOC &lt;=</code>, e premiamo <code>ctrl + d</code> tre volte per selezionare tutti gli statement di assegnamento a <code>SOC &lt;=</code>.
Queste sono ciascuna la prima riga del proprio stato, e vogliamo che diventino <em>l&#x27;unica</em> riga del proprio stato.
Possiamo farlo cancellando le 4 righe sotto, usando i tasti <code>home</code> e <code>end</code> per muoversi tra righe di dimensioni diverse.
Una volta rimasto un solo assegnemento, possiamo rimuovere anche i <code>begin ... end</code>.</p>
<!-- -->
<div style="width:100%;height:auto"></div>
<!-- -->
<p>Facciamo quindi lo stesso per tutti i registri, e separiamo anche gli statement di reset.
Otteniamo quindi il seguente codice 🚩.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> DAV_;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> DAV_;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> out_rc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S1 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b111</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S3 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passo-3-variabili-di-comando">Passo 3: variabili di comando<a href="#passo-3-variabili-di-comando" class="hash-link" aria-label="Link diretto a Passo 3: variabili di comando" title="Link diretto a Passo 3: variabili di comando" translate="no">​</a></h3>
<p>In questo passo definiamo per ciascun registro il numero minimo di variabili di comando necessarie per pilotarne il comportamento.
Questo numero dipende dal numero di compartomenti <em>distinti</em> di tale registro.
Nel caso di <code>SOC</code> e <code>DAV_</code>, abbiamo tre comportamenti: 1, 0 e conservazione.
Nel caso di <code>MIN</code> ne abbiamo due: campionamento di <code>out_rc</code> o conservazione.</p>
<p>A livello di codice, dovremmo:</p>
<ul>
<li>sostituire i <code>casex</code> basati su <code>STAR</code> con <code>casex</code> basati sulle variabili di comando</li>
<li>aggiungere la definizione delle variabili di comando</li>
</ul>
<p>Può essere utile fare questo per passaggi successivi, anche se non compilabili, per mantenere il riferimento con la descrizione e riconoscere eventuali errori.</p>
<p>Prendiamo il caso del registro <code>SOC</code>, questo si svolge in tre passi:</p>
<ul>
<li>Si aggiungono delle variabili di comando, senza cancellare gli stati</li>
<li>Si aggiunge la definizione di queste variabili, con riferimento agli stati</li>
<li>Si cancellano gli stati lasciati prima, ottenendo codice compilabile</li>
</ul>
<p>Al passo 1, avremo</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b00</span><span class="token plain"> S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b01</span><span class="token plain"> S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token plain"> S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token plain"> S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><br></span></code></pre></div></div>
<p>Al passo 2, scriviamo</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">? </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b00</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">? </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b01</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">? </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">? </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment-block comment" style="color:#999988;font-style:italic">/*default*/</span><span class="token plain">   </span><br></span></code></pre></div></div>
<p>Questa notazione a tabella torna molto utile più avanti, quando scriveremo la ROM.</p>
<p>Al passo 3, cancelliamo gli stati dal blocco <code>@(posedge clock)</code> per riottenere codice valido, ed eliminiamo i doppioni.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b01</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><br></span></code></pre></div></div>
<!-- -->
<p>Il video seguente mostra come questo procedimento può essere applicato a tutti i registri dell&#x27;esercizio.</p>
<div style="width:100%;height:auto"></div>
<!-- -->
<p>Otteniamo quindi il seguente codice 🚩.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b01</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> DAV_;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b01</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">1&#x27;b0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">1&#x27;b1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> out_rc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b00000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b10001</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b0011X</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b01X1X</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment-block comment" style="color:#999988;font-style:italic">/*default*/</span><span class="token plain">    </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;bXXXXX</span><span class="token plain"> ;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Ottimizzare la codifica</div><div class="admonitionContent_BuS1"><p>La procedura mostrata definisce le variabili di comando e le rispettive codifiche <em>indipendentemente</em>.
È talvolta possibile ridurre il numero complessivo di variabili di comando trovando codifiche che permettano di usare la stessa variabile per più registri.
Questa è una ottimizzazione <u>solo</u> se non si aggiunge alcuna variabile di comando a nessun registro.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Non usare la codifica dello stato</div><div class="admonitionContent_BuS1"><p>L&#x27;obiettivo delle variabili di comando è ottimizzare la dimensione dei multiplexer in input a ciascun registro:
usare il registro <code>STAR</code> significa usare un multiplexer a tanti ingressi quanti sono gli stati, mentre un registro operativo ha tipicamente molti meno comportamenti distinti.</p><p>Usare direttamente la codifica dello stato è un errore grave, a meno che non si <em>dimostri</em> che sia proprio la codifica più efficiente.
A tale scopo, usare commenti nel codice.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passo-4-variabili-di-condizionamento">Passo 4: variabili di condizionamento<a href="#passo-4-variabili-di-condizionamento" class="hash-link" aria-label="Link diretto a Passo 4: variabili di condizionamento" title="Link diretto a Passo 4: variabili di condizionamento" translate="no">​</a></h3>
<p>In questo passo definiamo il numero minimo di variabili necessarie per guidare i cambi di stato della parte controllo.
Per far questo, dobbiamo guardare alle condizioni <em>indipendenti</em> dei salti a due vie.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S1 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b111</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rfd == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? S3 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><br></span></code></pre></div></div>
<p>In questo caso notiamo che le condizioni di <code>S2</code> e <code>S3</code> sono una la negazione dell&#x27;altra: non sono indipendenti.
Possiamo guidare entrambi i salti con una sola variabile di condizionamento, se invertiamo uno dei due salti. In questo caso, scegliamo di invertire il salto in <code>S3</code>.</p>
<p>Otteniamo quindi il seguente codice 🚩.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c0 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b000</span><span class="token plain">;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c1 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> == </span><span class="token literal-binary-number number" style="color:#36acaa">3&#x27;b111</span><span class="token plain">;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c2 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> rfd == 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c0 ? S1 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c1 ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c2 ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c2 ? S0 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><br></span></code></pre></div></div>
<p>Le variabili di condizionamento vanno sintetizzate a livello di bit, sostituendo ai confronti con <code>==</code> le corrispondenti espressioni con porte logiche.
In questo caso, otteniamo 🚩</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c0 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">~</span><span class="token plain">eoc1 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">~</span><span class="token plain">eoc2 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">~</span><span class="token plain">eoc3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c1 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> eoc1 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> eoc2 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> eoc3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c2 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> rfd;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Quando invertire i salti</div><div class="admonitionContent_BuS1"><p>Viene considerata valida anche una sintesi che usi il numero minimo di variabili di condizionamento ma senza invertire i salti nel Verilog.
Per esempio, si può scrivere <code>S3: STAR &lt;= ~c2 ? S3 : S0;</code>.
Tuttavia non si ha questa libertà nella ROM, dove l&#x27;inversione è obbligatoria.
Dato che la ROM si fa di solito in fondo è facile dimenticarsene, ed è quindi consigliato di invertire già nel Verilog della parte controllo.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Sintesi a livello di bit</div><div class="admonitionContent_BuS1"><p>La richiesta di sintesi delle variabili di condizionamento è flessibile per esercizi dove si hanno molti bit (per esempio, un registro <code>COUNT</code> a 16 bit ).
Nel dubbio, si può chiedere durante l&#x27;esame.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passo-5-separare-le-parti">Passo 5: separare le parti<a href="#passo-5-separare-le-parti" class="hash-link" aria-label="Link diretto a Passo 5: separare le parti" title="Link diretto a Passo 5: separare le parti" translate="no">​</a></h3>
<p>Fin a questo punto abbiamo modificato il codice della rete senza separare effettivamente la parte operativa dalla parte controllo.
Questo è utile per mantenere la rete simulabile e controllare di non aver introdotto nuovi errori rispetto alla descrizione.</p>
<p>Arrivati a questo punto possiamo separare le parti.
Nella parte operativa andranno i registri operativi, le reti combinatorie che ne pilotano gli ingressi, e le reti combinatorie che generano le variabili di condizionamento.
A questa parte vengono inoltre collegati gli ingressi e le uscite della rete complessiva.
Nella parte controllo, invece, ci sarà solo il registro <code>STAR</code> e la ROM a microindirizzi, di cui scriviamo in Verilog, in particolare, la parte che genera le variabili di controllo.</p>
<p>Otteniamo quindi il seguente codice 🚩.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token block function" style="color:#d73a49">module</span><span class="token plain"> ABC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    soc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dav_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> soc;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> min;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> dav_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> rfd;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ABC_PO po</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        soc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dav_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ABC_PC pc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">endmodule</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">module</span><span class="token plain"> ABC_PO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    soc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dav_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rfd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> eoc1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eoc3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> soc;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> min;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> dav_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> rfd;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> SOC;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> soc </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> SOC;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> MIN;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> min </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> MIN;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> DAV_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> dav_ </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> DAV_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">wire</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> out_rc;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    MINIMO_3 min_rc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .a</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .b</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> .c</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        .min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">out_rc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c0 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">~</span><span class="token plain">eoc1 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">~</span><span class="token plain">eoc2 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">~</span><span class="token plain">eoc3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c1 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> eoc1 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> eoc2 </span><span class="token brackets operator" style="color:#393A34">&amp;</span><span class="token plain"> eoc3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> c2 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> rfd;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b01</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SOC </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> SOC;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b00</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> DAV_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b01</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">2&#x27;b1X</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DAV_ </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">1&#x27;b0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> MIN;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-binary-number number" style="color:#36acaa">1&#x27;b1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MIN </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> out_rc;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">endmodule</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">module</span><span class="token plain"> ABC_PC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset_;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">output</span><span class="token plain"> b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">input</span><span class="token plain"> c2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token declaration variable" style="color:#36acaa">reg</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">[</span><span class="token plain">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">0</span><span class="token brackets operator" style="color:#393A34">]</span><span class="token plain"> STAR;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token parameter constant" style="color:#36acaa">localparam</span><span class="token plain"> </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S0 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S1 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S2 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        S3 </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"> 3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">assign</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> </span><span class="token brackets operator" style="color:#393A34">{</span><span class="token plain">b4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b0</span><span class="token brackets operator" style="color:#393A34">}</span><span class="token plain"> </span><span class="token assignment keyword" style="color:#00009f">=</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b00000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b10001</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b0011X</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR == S3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;b01X1X</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment-block comment" style="color:#999988;font-style:italic">/*default*/</span><span class="token plain">    </span><span class="token literal-binary-number number" style="color:#36acaa">5&#x27;bXXXXX</span><span class="token plain"> ;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#1</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> 0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token behavior keyword" style="color:#00009f">always</span><span class="token plain"> @</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">posedge clock</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reset_ == 1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token delay constant" style="color:#36acaa">#3</span><span class="token plain"> </span><span class="token block function" style="color:#d73a49">begin</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">casex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">STAR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c0 ? S1 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S0;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c1 ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S1;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c2 ? S2 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            S3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> STAR </span><span class="token assignment keyword" style="color:#00009f">&lt;=</span><span class="token plain"> c2 ? S0 </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> S3;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token block function" style="color:#d73a49">endcase</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token block function" style="color:#d73a49">end</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token block function" style="color:#d73a49">endmodule</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// sintesi di rete combinatoria omessa</span></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passo-6-la-rom">Passo 6: la ROM<a href="#passo-6-la-rom" class="hash-link" aria-label="Link diretto a Passo 6: la ROM" title="Link diretto a Passo 6: la ROM" translate="no">​</a></h3>
<p>Secondo il modello a microindirizzi, la parte controllo è implementata come una ROM che usa il registro <code>STAR</code> come <em>microindirizzo</em>, e fornisce in uscita le variabili di controllo per la parte operativa così come <code>c_eff</code>, <code>m_true</code> e <code>m_false</code>.
Questi ultimi tre elementi, insieme alle variabili di condizionamento in ingresso dalla parte operativa, sono utilizzati con dei multiplexer in cascata per determinare lo stato successivo della rete.
Lo schema circuitale è il seguente.</p>
<img src="/reti-logiche-esercitazioni/2025-26/img/verilog/4/rom-microindirizzi.drawio.png" style="max-width:min(100%, 44rem)" alt="
Schema di una ROM basata su microindirizzi.
La ROM prende in ingresso STAR, e produce le variabili di comando, &#x27;c_eff&#x27;, &#x27;m_true&#x27; e &#x27;m_false&#x27;.
Lo stato successivo, &#x27;next_addr&#x27;, è determinato da un multiplexer che prende in ingresso &#x27;m_true&#x27; e &#x27;m_false&#x27; ed è pilotato dalla variabile di condizionamento efficace.
Questa è prodotta da un&#x27;altro multiplexer, che prende in ingresso le variabili di condizionamento da &#x27;c0&#x27; a &#x27;cN&#x27; ed è pilotato da &#x27;c_eff&#x27;.
">
<p>Fare la sintesi direttamente come ROM è possibile, ma è ben più tedioso e difficile da debuggare.
Per questo manteniamo il linguaggio di trasferimento tra registri per indicare in Verilog il comportamento di STAR, e scriviamo invece come commento nel codice una tabella che mostri il contenuto della ROM.</p>
<p>Per evitare ogni ambiguità, si comincia specificando codifiche binarie per gli stati e i <em>nomi</em> delle variabili di comando.
Dopodiché, si può riempire la tabella con quanto scritto in Verilog.</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    S0 = 00, S1 = 01, S2 = 10, S3 = 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    c0 = 00, c1 = 01, c2 = 1X</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    M-addr |  b4, b3, b2, b1, b0 | c_eff | M-addr-T | M-addr-F</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    ----------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    00     | 00000               | 00    | 01       | 00</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    01     | 01100               | 01    | 10       | 01      </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    10     | 1X001               | 1X    | 10       | 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    11     | 1X01X               | 1X    | 00       | 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre></div></div>
<p>A questo punto la sintesi è completa. È scaricabile <a href="/reti-logiche-esercitazioni/2025-26/code/verilog/4/2021-01-08/sintesi.v" target="_blank" rel="noopener noreferrer">qui</a>.</p>
<p>Menzioniamo a parte il caso dei salti incondizionati, del tipo del tipo <code>STAR &lt;= S1</code>.
In questo caso, va scritta la ROM in modo che <code>next_address</code> sia <code>S1</code> per qualunque valore delle variabili di condizionamento.
Questo si può ottenere mettendo sia <code>m_true</code> che <code>m_false</code> a <code>S1</code>, lasciando non-specificato <code>c_eff</code>. In tabella, questo si traduce in</p>
<div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    ... | c_eff | M-addr-T | M-addr-F</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    ----------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    ... | X     | 01       | 01</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Formattazione della tabella</div><div class="admonitionContent_BuS1"><p>Non essendo parte del codice, non c&#x27;è una sintassi o formattazione precisa da seguire per la tabella, purché sia non-ambigua quando letta dai docenti.
Questo include le varie alternative come <code>m-true</code>, <code>m-addr-true</code>, <code>m-T</code> etc., o usare <code>?</code> al posto di <code>X</code>.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Valori non specificati</div><div class="admonitionContent_BuS1"><p>La tabella della ROM è difatto una tabella di verità per una rete combinatoria, che è quindi sintetizzabile utilizzando i metodi visti come le mappe di Karnaugh.</p><p>I valori non specificati per variabili di comando e condizionamento sono quindi utili per permettere ottimizzazioni in tale sintesi.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Salti incondizionati, non indeterminati</div><div class="admonitionContent_BuS1"><p>È purtroppo frequente vedere ROM dove uno o entrambi gli indirizzi <code>m_true</code> o <code>m_false</code> sono non specificati, come nell&#x27;esempio seguente</p><div class="language-verilog codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-verilog codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    ... | c_eff | M-addr-T | M-addr-F</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    ----------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">    ... | X     | 01       | X          Errore!</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment-block comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre></div></div><p>Una ROM del genere è priva di senso, perché determina una rete che salta <em>a uno stato a caso</em>.</p></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Pagina del documento"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#esercizio-41-descrizione" class="table-of-contents__link toc-highlight">Esercizio 4.1: Descrizione</a></li><li><a href="#esercizio-41-sintesi-della-rete-combinatoria" class="table-of-contents__link toc-highlight">Esercizio 4.1: Sintesi della rete combinatoria</a></li><li><a href="#esercizio-41-sintesi-di-rete-sincronizzata" class="table-of-contents__link toc-highlight">Esercizio 4.1: Sintesi di rete sincronizzata</a><ul><li><a href="#passo-0-ricopiare-su-un-nuovo-file" class="table-of-contents__link toc-highlight">Passo 0: ricopiare su un nuovo file</a></li><li><a href="#passo-1-rendere-la-descrizione-omogenea" class="table-of-contents__link toc-highlight">Passo 1: rendere la descrizione omogenea</a></li><li><a href="#passo-2-separazione-dei-blocchi-operativi" class="table-of-contents__link toc-highlight">Passo 2: separazione dei blocchi operativi</a></li><li><a href="#passo-3-variabili-di-comando" class="table-of-contents__link toc-highlight">Passo 3: variabili di comando</a></li><li><a href="#passo-4-variabili-di-condizionamento" class="table-of-contents__link toc-highlight">Passo 4: variabili di condizionamento</a></li><li><a href="#passo-5-separare-le-parti" class="table-of-contents__link toc-highlight">Passo 5: separare le parti</a></li><li><a href="#passo-6-la-rom" class="table-of-contents__link toc-highlight">Passo 6: la ROM</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Raffaele Zippo. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>